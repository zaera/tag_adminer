{% extends 'template.html' %}
{% block body_content %}
{% load poll_extras %}
{% load static %}
    <!--     <script src="{% static 'assets/js/bootstrap.min.js' %}"></script>
    <script src="{% static 'assets/js/jquery-3.2.1.min.js' %}"></script>
    <script src="{% static 'js/jquery.bootstrap.modal.forms.js' %}"></script>
    -->
    <!-- You can alternatively load the minified version -->
    <script src="{% static 'js/jquery.bootstrap.modal.forms.min.js' %}"></script>
<div class="row justify-content-center">
    <div class="col-auto">
    <table id="results_table" class="shadow-lg p-3 mb-5 bg-white rounded table table-striped table-hover table-responsive">
				<thead>
					<tr>
						<th class="text-center" scope="col">SN</th>
						<th class="text-center" scope="col">Runner</th>
                        <th class="text-center" scope="col">Time</th>
                        <th class="text-center" scope="col">Points</th>
						<th class="text-center" scope="col">Group</th>
						<th class="text-center" scope="col">Voltage</th>
                        <th class="text-center" scope="col">Actions</th>
					</tr>
				</thead>
				<tbody>
                        {% for item in data %}
                            <tr>
                                <td class="text-center" scope="row"><span class="badge badge-pill badge-dark {{ item.8 }}">{{ item.1 }}</span></td>
                                <td class="text-center" scope="row"><span class="update-runner name fake-link" data-form-url="{% url 'adminer:update-runner' pk=item.2 %}">{{ item.3 |safe }}</span></td>
                                <td class="text-center" scope="row">{{ item.4 }}</td>
                                <td class="text-center" scope="row">{{ item.9 }}</td>
                                <td class="text-center" scope="row"><span class="update-group fake-link" data-form-url="{% url 'adminer:update-group' pk=item.5 %}">{{ item.6 }}</span></td>
                                <td class="text-center" scope="row">{{ item.7 |safe }}</td>
                                <td class="text-center" scope="row">
                                     <!-- Read button -->
                                    <button type="button" class="read-wrist btn btn-sm btn-primary" data-form-url="{% url 'adminer:read-wrist' pk=item.0 %}"><span class="fa fa-eye"></span></button>
                                    <!-- Update button -->
                                    <button type="button" class="update-wrist btn btn-sm btn-warning" data-form-url="{% url 'adminer:update-wrist' pk=item.0 %}"><span class="fa fa-pencil"></span></button>
                                     <!-- Delete button -->
                                    <button type="button" class="delete-wrist btn btn-sm btn-danger" data-form-url="{% url 'adminer:delete-wrist' pk=item.0 %}"><span class="fa fa-trash"></span></button>
                                </td>
                            </tr>
                            <tr>
                            <td  colspan="7">
                            <div class="inline">
                            <!-- Print button -->
                            <button type="button" class="btn btn-sm btn-outline-dark"><i class="fa fa-print"></i></button>
                            <span id="splits">
                                {% for cp in item.10 %}
                                {{ cp|safe  }}
                                {% endfor%}
                            </span>
                            </div>
                            </td>
                            </tr>
                        {% endfor%}
				</tbody>
			</table>
    </div>
</div>
<div class="modal fade" tabindex="-1" role="dialog" id="modal">
  <div class="modal-dialog" role="document">
    <div class="modal-content"></div>
  </div>
</div>

<!-- Return to Top -->
<a href="javascript:" id="return-to-top"><i class="fa fa-arrow-circle-up fa-4"></i></a>

    <script type="text/javascript">
$(document).ready(function() {
    $(".update-runner").each(function () {
        $(this).modalForm({formURL: $(this).data("form-url")});
    });
    $(".update-group").each(function () {
        $(this).modalForm({formURL: $(this).data("form-url")});
    });
    $(".read-wrist").each(function () {
        $(this).modalForm({formURL: $(this).data("form-url")});
    });
    $(".update-wrist").each(function () {
        $(this).modalForm({formURL: $(this).data("form-url")});
    });
    $(".delete-wrist").each(function () {
        $(this).modalForm({formURL: $(this).data("form-url"), isDeleteForm: true});
    });
    $( ".modal" ).on('shown.bs.modal', function(){
        try {
    document.getElementById("id_wrist_passed").classList.remove("form-control");
    } catch (error) {}
        try {
    $('label[for=id_wrist_competition_id], input#id_wrist_competition_id').hide();
    $('label[for=id_wrist_firmware], input#id_wrist_firmware').hide();
    $('label[for=id_wrist_voltage], input#id_wrist_voltage').hide();
    $('label[for=id_wrist_sn], input#id_wrist_sn').hide();
    } catch (error) {}
    try {
    $('label[for=id_runner_competition_id], input#id_runner_competition_id').hide();
    } catch (error) {}
     try {
    $('label[for=id_group_competition_id], input#id_group_competition_id').hide();
    } catch (error) {}
    });
});
function scroll() {
    window.scrollBy(0,3);
    scrolldelay = setTimeout(scroll,50);
}
    // ===== Scroll to Top ====
$(window).scroll(function() {
    if ($(this).scrollTop() >= 50) {        // If page is scrolled more than 50px
        $('#return-to-top').fadeIn(200);    // Fade in the arrow
    } else {
        $('#return-to-top').fadeOut(200);   // Else fade out the arrow
    }
});
$('#return-to-top').click(function() {      // When arrow is clicked
    $('body,html').animate({
        scrollTop : 0                       // Scroll to top of body
    }, 500);
});
</script>
{% endblock body_content %}